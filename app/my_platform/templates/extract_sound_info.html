{% extends 'base.html' %}

{% block content %}
{% load static %}
{% load crispy_forms_tags %}

<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style>
	#messages{
			background-color: #747c7a;
			color: rgb(255, 255, 255);
            width: 650px;
			padding: 10px;
			margin-top: 10px;
      		border: 0 !important;
			border-radius: 0.25rem !important;
		}
</style>

<div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-10 col-md-12">
        <div class="card mb-4">
          <div class="card-body">
              
<h3>Extract Embedded Data</h3>
<hr>
<p> 
    This file is for embedding ownership for a sound document
</p>

<p>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{form|crispy}}
        <button type="submit" class = 'btn btn-outline-danger  btn-sm btn-block' style="height:40px;width:100px;"text-align="center" >Extract</button>
    </form>
</p>
<p>
    <a href="{% url 'embed_ownership' %} " class = 'btn btn-warning' style="height:40px;width:100px;" text-align="center" >&#8592; Return </a>
</p>

</div>
</div>
</div>
</div>
</div>

<div>

{% for message in messages %}
  <center><p id ="messages">{{message}}</p></center>
{% endfor %}
</div>

<style>
  table {
    border-spacing: 0px;
    table-layout: auto;
    margin-left: auto;
    margin-right: auto;
    width: 400px;
  }
  td {

    word-break: break-all;
  }
</style>

{% if last_object.file%}
<div class="container">
  <div class="row justify-content-center">
    <div class="col-lg-10 col-md-12">
      <div class="card mb">
        <div class="card-body">
          <table class="table">

            
            <thead>
              <h3>Embedded Data in File</h3>
                <tr>
                    <th>Media Type</th>
                    <th>Owner Information</th>
                    <th>Uploaded File</th>
                    <th>Hash Information</th>
                    
        
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        
                        <img src="{% static 'site_images/audio2.png' %}" alt="Text File/Audio File" style="width: 60px;">
                        
                        
                    </td>
                    <td>{{ last_object.owner}}</td>
                    <td>{{last_object.uploaded_filename}}</td>
                    <td>{{ last_object.hash}}</td>
                   
                </tr>
                
            </tbody>
        </table>
 
</div>
</div>
</div>
</div>
</div>
<br>
<br>
{% endif %}


<style>
  table {
    border-spacing: 0px;
    table-layout: auto;
    margin-left: auto;
    margin-right: auto;
    width: 400px;
  }
  td {

    word-break: break-all;
  }
</style>

{% if last_object.file%}
<div class="container">
  <div class="row justify-content-center">
    <div class="col-lg-10 col-md-12">
      <div class="card mb">
        <div class="card-body">
          <table class="table">

            
            <thead>
                <h3>
                    File Origin Data
                </h3>
                <hr>
            </thead>
            <tbody>
                    <p><span><b>Occurence Number:</b></span> {{ last_object.occurence_number}}</p>
                    <p><span><b>Owner:</b></span> {{ last_object.owner}}</p>
                    <p><span><b>Timestamp:</b></span> {{ last_object.Timestamp }}</p>
                    <p><span><b>Email:</b></span> {{ last_object.email}}</p>
                    <p><span><b>Hash:</b></span> {{ last_object.hash}}</p>
                    <p><span><b>Original Filename:</b></span> {{ last_object.filename}}</p>
                    {% if last_object.receiver%}
                    <p><span><b>Receiver:</b></span> {{ last_object.receiver}}</p>
                    {% endif %}
                                   
            </tbody>
        </table>
        <br>
        <button onclick="window.print()" style="height:40px;width:120px;border-radius: 5px;">Print Page <i class="fa fa-print"></i></button>
       
</div>
</div>
</div>
</div>
</div>
{% endif %}
{% endblock %}